#!/bin/bash
mode="online"
clearMode="off"
while [[ "$1" != "" ]]; do
    case $1 in
        --offline)
            shift
            mode="offline"
            ;;
        --online)
            shift
            mode="online"
            ;;
        --clearOn)
            shift
            clearMode="on"
            ;;
        --con)
            shift
            clearMode="on"
            ;;
        --help)
            shift
            echo -e " --offline -> desativa a pesquisa via internet\n --clearOn ou --con -> ativa o clearMode\n\n ***DENTRO DO TRADUTOR***\n\n clearOn -> ativa o clearMode\n clearOff -> desativa o clearMode\n offline -> desativa a pesquisa via internet\n online -> ativa a pesquisa na internet\n dict -> abre o dicionário"
            exit
            ;;
        -h)
            shift
            echo -e " --offline -> desativa a pesquisa via internet\n --clearOn ou --con -> ativa o clearMode\n\n ***DENTRO DO TRADUTOR***\n\n clearOn -> ativa o clearMode\n clearOff -> desativa o clearMode\n offline -> desativa a pesquisa via internet\n online -> ativa a pesquisa na internet\n dict -> abre o dicionário"
            exit
            ;;
        *)
            echo "Opção inválida: $1"
            exit
            ;;
    esac
done

while true; do
    echo "««WORD»»"
    echo ""
    read word
    echo ""
    case $word in 
        "clear")
            clear
            continue
            ;;
        "offline")
            mode="offline"
            if [ "$clearMode" == "on" ]; then
                clear
            fi
            continue
            ;;
        "online")
            mode="online"
            if [ "$clearMode" == "on" ]; then
                clear
            fi
            continue
            ;;
        "clearOn")
            clearMode="on"
            if [ "$clearMode" == "on" ]; then
                clear
            fi
            continue
            ;;
        "clearon")
            clearMode="on"
            if [ "$clearMode" == "on" ]; then
                clear
            fi
            continue
            ;;
        "clearOff")
            clearMode="off"
            continue
            ;;
        "clearoff")
            clearMode="off"
            continue
            ;;
        "help")
            echo -e " --offline -> desativa a pesquisa via internet\n --clearOn ou --con -> ativa o clearMode\n\n ***DENTRO DO TRADUTOR***\n\n clearOn -> ativa o clearMode\n clearOff -> desativa o clearMode\n offline -> desativa a pesquisa via internet\n online -> ativa a pesquisa na internet\n dict -> abre o dicionário\n"
            echo "***PRESS ANY BUTTON TO CONTINUE***"
            read button
            if [ "$clearMode" == "on" ]; then
                clear
            fi
            continue
            ;;
        "change")
            exit 0
            ;;
        "clip")
            exit 1
            ;;
    esac
    echo "««TRADUCTION»»"
    echo ""
    if [ "$mode" == "online" ]; then
        trans -e google :pt "$word"
            echo ""
    elif [ "$mode" == "offline" ]; then
        trans.py $word
        echo ""
    fi
    if [ "$clearMode" == "on" ];then
        echo "««WAITING»»"
        read palavra
        clear
    fi
done

